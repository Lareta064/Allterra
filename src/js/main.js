document.addEventListener("DOMContentLoaded",(function(){const e=document.body;$(".lazy").Lazy();const t=document.querySelector("#video-box");if(t){const C=t.querySelector("#video"),k=t.querySelector("#video-btn");C.addEventListener("click",(()=>{k.classList.contains("active")?(C.play(),k.classList.remove("active"),k.querySelector("span").textContent="Приостановить видео"):(C.pause(),k.classList.add("active"),k.querySelector("span").textContent="Возобновить видео")})),C.addEventListener("ended",(function(){C.pause(),k.classList.add("active"),k.querySelector("span").textContent="Возобновить видео"}))}const s=document.querySelector(".video");if(s){const B=s.querySelector("video");s.addEventListener("click",(()=>{s.classList.contains("active")?(B.pause(),s.classList.remove("active")):(B.play(),s.classList.add("active"))})),s.addEventListener("ended",(function(){B.pause(),s.classList.remove("active")}))}const i=document.querySelector("header"),n=document.querySelector("#search-btn"),c=document.querySelector("#search-popup"),a=document.querySelector("#menu-toggle"),o=document.querySelector("#mobile-menu"),l=document.querySelector("#fixed-buttons");function r(t){t.classList.remove("active"),t.style.top="auto",e.classList.remove("lock")}function d(){o.querySelector(".active")?.classList.remove("active"),o.classList.remove("active"),a.classList.remove("active")}if(n&&(n.addEventListener("click",(()=>{if(c.classList.contains("active"))r(c);else{const t=i.getBoundingClientRect().bottom;d(),c.classList.add("active"),c.style.top=t+"px",e.classList.add("lock"),l.classList.remove("active")}})),c.addEventListener("click",(t=>{t.target==t.currentTarget&&(c.classList.remove("active"),e.classList.remove("lock"))}))),a){const M=o.querySelectorAll(".drop-menu-li");a.addEventListener("click",(()=>{r(c),a.classList.contains("active")?(d(),e.classList.remove("lock"),window.scrollY>500&&l.classList.add("active")):(a.classList.add("active"),o.classList.add("active"),e.classList.add("lock"),window.scrollY>500&&l.classList.remove("active"))}));for(let _ of M)_.addEventListener("click",(function(e){_.querySelector(".drop-menu-wrapper").classList.add("active"),window.scrollY>500&&l.classList.remove("active")})),_.querySelector(".back-link").addEventListener("click",(e=>{e.stopPropagation(),e.target.closest(".drop-menu-wrapper").classList.remove("active"),window.scrollY>500&&l.classList.remove("active")}))}l&&window.addEventListener("scroll",(()=>{window.scrollY>500&&!o.classList.contains("active")&&!c.classList.contains("active")?l.classList.add("active"):l.classList.remove("active")})),$(".custom-tabs").each((function(){let e=$(this);e.find(".custom-tab").not(":first").hide(),e.find(".tab-btn").click((function(){e.find(".tab-btn").removeClass("active").eq($(this).index()).addClass("active"),e.find(".custom-tab").hide().eq($(this).index()).fadeIn()})).eq(0).addClass("active")})),function(e,t,s,i){"use strict";var n="simpleAccordion",c={multiple:!1,speedOpen:300,speedClose:150,easingOpen:null,easingClose:null,headClass:"accordion-header",bodyClass:"accordion-body",openClass:"open",defaultOpenClass:"default-open",cbClose:null,cbOpen:null};function a(t,s){this.$el=e(t),this.options=e.extend({},c,s),this._defaults=c,this._name=n,void 0!==this.$el.data("multiple")?this.options.multiple=this.$el.data("multiple"):this.options.multiple=this._defaults.multiple,this.init()}a.prototype={init:function(){var e=this.options,t=this.$el.children("."+e.headClass);t.on("click",{_t:this},this.headingClick),t.filter("."+e.defaultOpenClass).first().click()},headingClick:function(t){var s=e(this),i=t.data._t,n=i.options,c=i.$el.children("."+n.headClass).filter("."+n.openClass);s.hasClass(n.openClass)?s.removeClass(n.openClass).next("."+n.bodyClass).slideUp(n.speedClose,n.easingClose,(function(){e.isFunction(n.cbClose)&&n.cbClose(t,s)})):c.length&&!1===n.multiple?c.removeClass(n.openClass).next("."+n.bodyClass).slideUp(n.speedClose,n.easingClose,(function(){e.isFunction(n.cbClose)&&n.cbClose(t,c),s.addClass(n.openClass).next("."+n.bodyClass).slideDown(n.speedOpen,n.easingOpen,(function(){e.isFunction(n.cbOpen)&&n.cbOpen(t,s)}))})):s.addClass(n.openClass).next("."+n.bodyClass).slideDown(n.speedOpen,n.easingOpen,(function(){s.removeClass(n.defaultOpenClass),e.isFunction(n.cbOpen)&&n.cbOpen(t,s)}))}},e.fn[n]=function(t){return this.each((function(){e.data(this,"plugin_"+n)||e.data(this,"plugin_"+n,new a(this,t))}))}}(jQuery,window,document),$((function(){$(".accordion-group").simpleAccordion()}));new Swiper(".review-slider",{slidesPerView:1.07,loop:!0,speed:1e3,spaceBetween:10,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{640:{slidesPerView:1.2,spaceBetween:16},768:{slidesPerView:1.4,spaceBetween:16},1024:{slidesPerView:1,spaceBetween:16},1099:{slidesPerView:1.5,spaceBetween:16},1199:{slidesPerView:2,spaceBetween:20}}}),new Swiper(".blog-cards-slider",{slidesPerView:1.15,loop:!0,speed:1e3,spaceBetween:20,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{376:{slidesPerView:1.5,spaceBetween:16},576:{slidesPerView:1.8,spaceBetween:16},768:{slidesPerView:2.5,spaceBetween:16},1024:{slidesPerView:3,spaceBetween:20},1280:{slidesPerView:4,spaceBetween:20}}}),new Swiper(".institute-slider",{slidesPerView:1,speed:1e3,loop:!0,spaceBetween:20,pagination:{el:".swiper-pagination",clickable:!0}});const u=document.querySelector(".backlit-menu");if(u){const H=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&u.querySelectorAll("a").forEach((t=>{t.getAttribute("href").replace("#","")===e.target.id?t.classList.add("active"):t.classList.remove("active")}))}))}),{threshold:.5});document.querySelectorAll(".anchor").forEach((e=>{H.observe(e)}))}const v=document.querySelector(".dynamic-menu");if(v){dynamicMenuBtn=v.querySelector(".dynamic-menu__header"),dynamicMenuList=v.querySelector(".dynamic-menu__list"),dynamicMenuBtn.addEventListener("click",(()=>{if(dynamicMenuBtn.classList.contains("active"))dynamicMenuList.style.maxHeight=0,dynamicMenuBtn.classList.remove("active");else{const e=window.innerHeight-186+"px",t=dynamicMenuList.scrollHeight+"px";"0px"!==dynamicMenuList.style.maxHeight&&""!==dynamicMenuList.style.maxHeight||(dynamicMenuList.scrollHeight>window.innerHeight-186?(dynamicMenuList.style.maxHeight=e,dynamicMenuList.style.overflowY="auto"):(dynamicMenuList.style.maxHeight=t,dynamicMenuList.style.overflowY="hidden")),dynamicMenuBtn.classList.add("active")}})),dynamicMenuList.addEventListener("click",(()=>{v.classList.contains("active")&&(dynamicMenuList.style.maxHeight=0,dynamicMenuBtn.classList.remove("active"))}));const A=document.querySelector("#sticky-menu"),O=document.querySelector("#institute-menu"),P=document.querySelector(".filters-drop");A&&(window.addEventListener("scroll",(()=>{window.innerWidth<=1280&&(window.scrollY>550?A.classList.add("active"):A.classList.remove("active"))})),window.addEventListener("resize",(()=>{window.innerWidth>1279?(dynamicMenuList.style.maxHeight="unset",dynamicMenuBtn.classList.remove("active")):(dynamicMenuList.style.maxHeight="0",dynamicMenuBtn.classList.remove("active"))}))),O&&(window.addEventListener("scroll",(()=>{window.innerWidth<=1024&&(window.scrollY>150?O.classList.add("active"):O.classList.remove("active"))})),window.addEventListener("resize",(()=>{window.innerWidth>1023?(dynamicMenuList.style.maxHeight="unset",dynamicMenuBtn.classList.remove("active")):(dynamicMenuList.style.maxHeight="0",dynamicMenuBtn.classList.remove("active"))}))),P&&window.addEventListener("resize",(()=>{window.innerWidth>1023?(P.style.maxHeight="unset",dynamicMenuBtn.classList.remove("active")):window.innerWidth!=window.innerWidth&&(P.style.maxHeight="0",dynamicMenuBtn.classList.remove("active"))}))}const p=document.querySelectorAll(".tab-btn");if(p.length>0&&window.innerWidth<584){p[0].style.width="calc(100vw - 56px - 32px - 12px)";for(let W=0;W<p.length;W++)p[W].addEventListener("click",(function(){const e=p[W].parentNode;for(btn of p)btn.style.width="56px";W>0&&W<p.length-1?p[W].style.width="calc(100vw - 168px)":p[W].style.width="calc(100vw - 56px - 32px - 12px)";const t=-(56*(W-1)+12*(W-1));p[p.length-1];W<2?e.style.transform="translateX(0)":W==p.length-1?e.style.transform="translateX(-272px)":e.style.transform=`translateX(${t}px)`}))}if(document.querySelector(".country-swiper")){var m=new Swiper(".country-swiper",{slidesPerView:"auto",speed:1e3,autoWidth:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),y=!1;m.on("sliderMove",(function(){y=!0})),m.on("touchEnd",(function(){setTimeout((function(){y=!1}),100)}));var L=document.createElement("div");function f(e){if(!y&&!e.classList.contains("active")){m.slides.forEach((function(e){e.classList.remove("active")})),e.classList.add("active");var t=e.offsetLeft-m.wrapperEl.offsetLeft;L.style.left=t+"px",L.style.width=e.offsetWidth+"px"}}L.className="new-block",m.slides[0].appendChild(L),m.slides.forEach((function(e){e.addEventListener("click",(function(){f(this)}))})),f(m.slides[0]),L.style.height="2px",L.style.width=m.slides[0].offsetWidth+"px",L.textContent="",window.addEventListener("resize",(function(){var e=document.querySelector(".swiper-slide.active");e&&(L.style.width=e.offsetWidth+"px",L.style.left=e.offsetLeft-m.wrapperEl.offsetLeft+"px")})),m.on("slideChangeTransitionEnd",(function(){var e=m.activeIndex;document.querySelectorAll(".scool-description").forEach((function(e){e.classList.remove("active")})),document.querySelectorAll(".scool-description")[e].classList.add("active")})),m.slides.forEach((function(e,t){e.addEventListener("click",(function(){document.querySelectorAll(".scool-description").forEach((function(e){e.classList.remove("active")})),document.querySelectorAll(".scool-description")[t].classList.add("active")}))})),m.off("slideChangeTransitionEnd"),window.dispatchEvent(new Event("resize"))}const w=document.querySelectorAll(".scool-card");function h(e,t){const s=e.getBoundingClientRect();t.getBoundingClientRect().bottom>s.bottom&&t.classList.add("offset-top")}if(w.length>0)for(let V of w){const Y=V.querySelector(".show-scool-programs"),z=V.querySelector(".scool-drop"),I=V.querySelectorAll(".cell-price");function g(){const e=V.querySelector(".cell-price__drop.active");e&&e.classList.remove("active")}Y.addEventListener("click",(()=>{V.classList.contains("active")?(g(),V.classList.remove("active"),window.innerWidth>767&&(z.style.maxHeight=0,z.style.overflow="hidden")):(V.classList.add("active"),window.innerWidth>767&&(z.style.maxHeight=z.scrollHeight+"px",z.style.overflow="visible"))}));for(let D of I){const F=D.querySelector(".cell-price__btn"),T=D.querySelector(".cell-price__drop");F&&F.addEventListener("click",(e=>{e.preventDefault();const t=V.querySelector(".cell-price__drop.active"),s=V.querySelector(".cell-price.active");t&&t!==T&&(t.classList.remove("active"),s.classList.remove("active")),T.classList.toggle("active"),D.classList.toggle("active"),h(V,T)}))}}var E,b;E="cell-price",b="pay-cur",document.querySelectorAll("."+E).forEach((e=>{e.addEventListener("click",(function(t){t.target.classList.contains(b)&&(e.querySelectorAll("."+b).forEach((e=>{e.classList.remove("active")})),t.target.classList.add("active"))}))}));const x=document.getElementById("scool-cards-grid");if(x){const R=document.getElementById("scool-grid-rows"),X=document.getElementById("scool-grid-cols");R.addEventListener("click",(()=>{R.classList.add("active"),X.classList.remove("active"),x.classList.remove("three-columns")})),X.addEventListener("click",(()=>{R.classList.remove("active"),X.classList.add("active"),x.classList.add("three-columns")})),window.addEventListener("resize",(function(){this.window.innerWidth<1279&&(R.classList.add("active"),X.classList.remove("active"),x.classList.remove("three-columns"))}))}const S=document.querySelectorAll(".height-dynamic");if(S.length>0)for(let N of S){if(N.querySelector(".programs-table").offsetHeight<107)N.classList.add("active");else{N.querySelector(".height-dynamic__btn").addEventListener("click",(()=>{N.classList.add("active"),N.style.maxHeight=N.scrollHeight+"px"}))}}if(document.querySelectorAll(".programs-table .cell-price").length>0){function q(){document.querySelectorAll(".programs-table .cell-price.active").forEach((function(e){e.classList.remove("active")}))}document.querySelectorAll(".programs-table .cell-price__btn").forEach((function(e){e.addEventListener("click",(function(e){e.stopPropagation(),this.parentElement.classList.contains("active")?this.parentElement.classList.remove("active"):(q(),this.parentElement.classList.add("active"))}))})),document.addEventListener("click",(function(){q()}))}}));